var S=Object.defineProperty;var v=(_,t)=>{for(var e in t)S(_,e,{get:t[e],enumerable:!0})};var I={};v(I,{BrotliDecStream:()=>p,BrotliDecStreamErrCode:()=>z,BrotliStreamResult:()=>f,BrotliStreamResultCode:()=>G,DecompressStream:()=>A,brotli_dec:()=>P,decompress:()=>x,default:()=>C,initSync:()=>K});var n,m=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&m.decode();var u=null;function d(){return(u===null||u.byteLength===0)&&(u=new Uint8Array(n.memory.buffer)),u}function g(_,t){return _=_>>>0,m.decode(d().subarray(_,_+t))}var a=new Array(128).fill(void 0);a.push(void 0,null,!0,!1);var w=a.length;function B(_){w===a.length&&a.push(a.length+1);let t=w;return w=a[t],a[t]=_,t}function h(_){return a[_]}function U(_){_<132||(a[_]=w,w=_)}function l(_){let t=h(_);return U(_),t}var c=0;function b(_,t){let e=t(_.length*1,1)>>>0;return d().set(_,e/1),c=_.length,e}var T=null;function s(){return(T===null||T.byteLength===0)&&(T=new Int32Array(n.memory.buffer)),T}function L(_,t){return _=_>>>0,d().subarray(_/1,_/1+t)}function P(_){try{let r=n.__wbindgen_add_to_stack_pointer(-16),i=b(_,n.__wbindgen_malloc),O=c;n.brotli_dec(r,i,O);var t=s()[r/4+0],e=s()[r/4+1],R=s()[r/4+2],o=s()[r/4+3];if(o)throw l(R);var E=L(t,e).slice();return n.__wbindgen_free(t,e*1,1),E}finally{n.__wbindgen_add_to_stack_pointer(16)}}function x(_){try{let r=n.__wbindgen_add_to_stack_pointer(-16),i=b(_,n.__wbindgen_malloc),O=c;n.brotli_dec(r,i,O);var t=s()[r/4+0],e=s()[r/4+1],R=s()[r/4+2],o=s()[r/4+3];if(o)throw l(R);var E=L(t,e).slice();return n.__wbindgen_free(t,e*1,1),E}finally{n.__wbindgen_add_to_stack_pointer(16)}}var D=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},W=typeof D.encodeInto=="function"?function(_,t){return D.encodeInto(_,t)}:function(_,t){let e=D.encode(_);return t.set(e),{read:_.length,written:e.length}};function k(_,t,e){if(e===void 0){let i=D.encode(_),O=t(i.length,1)>>>0;return d().subarray(O,O+i.length).set(i),c=i.length,O}let R=_.length,o=t(R,1)>>>0,E=d(),r=0;for(;r<R;r++){let i=_.charCodeAt(r);if(i>127)break;E[o+r]=i}if(r!==R){r!==0&&(_=_.slice(r)),o=e(o,R,R=r+_.length*3,1)>>>0;let i=d().subarray(o+r,o+R),O=W(_,i);r+=O.written,o=e(o,R,r,1)>>>0}return c=r,o}var G=Object.freeze({ResultSuccess:1,1:"ResultSuccess",NeedsMoreInput:2,2:"NeedsMoreInput",NeedsMoreOutput:3,3:"NeedsMoreOutput"}),z=Object.freeze({BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:1,1:"BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE",BROTLI_DECODER_ERROR_FORMAT_RESERVED:2,2:"BROTLI_DECODER_ERROR_FORMAT_RESERVED",BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:3,3:"BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE",BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:4,4:"BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET",BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:5,5:"BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME",BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:6,6:"BROTLI_DECODER_ERROR_FORMAT_CL_SPACE",BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:7,7:"BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE",BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:8,8:"BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT",BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:9,9:"BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1",BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:10,10:"BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2",BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:11,11:"BROTLI_DECODER_ERROR_FORMAT_TRANSFORM",BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:12,12:"BROTLI_DECODER_ERROR_FORMAT_DICTIONARY",BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:13,13:"BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS",BROTLI_DECODER_ERROR_FORMAT_PADDING_1:14,14:"BROTLI_DECODER_ERROR_FORMAT_PADDING_1",BROTLI_DECODER_ERROR_FORMAT_PADDING_2:15,15:"BROTLI_DECODER_ERROR_FORMAT_PADDING_2",BROTLI_DECODER_ERROR_FORMAT_DISTANCE:16,16:"BROTLI_DECODER_ERROR_FORMAT_DISTANCE",BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:19,19:"BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET",BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:20,20:"BROTLI_DECODER_ERROR_INVALID_ARGUMENTS",BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:21,21:"BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES",BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:22,22:"BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS",BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:25,25:"BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP",BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:26,26:"BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1",BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:27,27:"BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2",BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:30,30:"BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES",BROTLI_DECODER_ERROR_UNREACHABLE:31,31:"BROTLI_DECODER_ERROR_UNREACHABLE"}),H=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(_=>n.__wbg_brotlidecstream_free(_>>>0)),p=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,H.unregister(this),t}free(){let t=this.__destroy_into_raw();n.__wbg_brotlidecstream_free(t)}constructor(){let t=n.brotlidecstream_new();return this.__wbg_ptr=t>>>0,this}dec(t,e){try{let r=n.__wbindgen_add_to_stack_pointer(-16),i=b(t,n.__wbindgen_malloc),O=c;n.brotlidecstream_dec(r,this.__wbg_ptr,i,O,e);var R=s()[r/4+0],o=s()[r/4+1],E=s()[r/4+2];if(E)throw l(o);return f.__wrap(R)}finally{n.__wbindgen_add_to_stack_pointer(16)}}decompress(t,e){try{let r=n.__wbindgen_add_to_stack_pointer(-16),i=b(t,n.__wbindgen_malloc),O=c;n.brotlidecstream_dec(r,this.__wbg_ptr,i,O,e);var R=s()[r/4+0],o=s()[r/4+1],E=s()[r/4+2];if(E)throw l(o);return f.__wrap(R)}finally{n.__wbindgen_add_to_stack_pointer(16)}}total_out(){return n.brotlidecstream_total_out(this.__wbg_ptr)>>>0}},y=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(_=>n.__wbg_brotlistreamresult_free(_>>>0)),f=class _{static __wrap(t){t=t>>>0;let e=Object.create(_.prototype);return e.__wbg_ptr=t,y.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,y.unregister(this),t}free(){let t=this.__destroy_into_raw();n.__wbg_brotlistreamresult_free(t)}get code(){return n.__wbg_get_brotlistreamresult_code(this.__wbg_ptr)}set code(t){n.__wbg_set_brotlistreamresult_code(this.__wbg_ptr,t)}get buf(){try{let o=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_brotlistreamresult_buf(o,this.__wbg_ptr);var t=s()[o/4+0],e=s()[o/4+1],R=L(t,e).slice();return n.__wbindgen_free(t,e*1,1),R}finally{n.__wbindgen_add_to_stack_pointer(16)}}set buf(t){let e=b(t,n.__wbindgen_malloc),R=c;n.__wbg_set_brotlistreamresult_buf(this.__wbg_ptr,e,R)}get input_offset(){return n.__wbg_get_brotlistreamresult_input_offset(this.__wbg_ptr)>>>0}set input_offset(t){n.__wbg_set_brotlistreamresult_input_offset(this.__wbg_ptr,t)}},X=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(_=>n.__wbg_decompressstream_free(_>>>0)),A=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,X.unregister(this),t}free(){let t=this.__destroy_into_raw();n.__wbg_decompressstream_free(t)}constructor(){let t=n.decompressstream_new();return this.__wbg_ptr=t>>>0,this}decompress(t,e){try{let r=n.__wbindgen_add_to_stack_pointer(-16),i=b(t,n.__wbindgen_malloc),O=c;n.brotlidecstream_dec(r,this.__wbg_ptr,i,O,e);var R=s()[r/4+0],o=s()[r/4+1],E=s()[r/4+2];if(E)throw l(o);return f.__wrap(R)}finally{n.__wbindgen_add_to_stack_pointer(16)}}total_out(){return n.decompressstream_total_out(this.__wbg_ptr)>>>0}};async function j(_,t){if(typeof Response=="function"&&_ instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(_,t)}catch(R){if(_.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",R);else throw R}let e=await _.arrayBuffer();return await WebAssembly.instantiate(e,t)}else{let e=await WebAssembly.instantiate(_,t);return e instanceof WebAssembly.Instance?{instance:e,module:_}:e}}function M(){let _={};return _.wbg={},_.wbg.__wbindgen_error_new=function(t,e){let R=new Error(g(t,e));return B(R)},_.wbg.__wbindgen_object_drop_ref=function(t){l(t)},_.wbg.__wbg_new_abda76e883ba8a5f=function(){let t=new Error;return B(t)},_.wbg.__wbg_stack_658279fe44541cf6=function(t,e){let R=h(e).stack,o=k(R,n.__wbindgen_malloc,n.__wbindgen_realloc),E=c;s()[t/4+1]=E,s()[t/4+0]=o},_.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let R,o;try{R=t,o=e,console.error(g(t,e))}finally{n.__wbindgen_free(R,o,1)}},_.wbg.__wbindgen_throw=function(t,e){throw new Error(g(t,e))},_}function F(_,t){return n=_.exports,N.__wbindgen_wasm_module=t,T=null,u=null,n}function K(_){if(n!==void 0)return n;let t=M();_ instanceof WebAssembly.Module||(_=new WebAssembly.Module(_));let e=new WebAssembly.Instance(_,t);return F(e,_)}async function N(_){if(n!==void 0)return n;typeof _>"u"&&(console.debug(document.currentScript.src),_=new URL("./brotli_dec_wasm_bg.wasm.gz",document.currentScript.src));let t=M();(typeof _=="string"||typeof Request=="function"&&_ instanceof Request||typeof URL=="function"&&_ instanceof URL)&&(_=await fetch(_));let e=new DecompressionStream("gzip"),R=new Response(_.body.pipeThrough(e),{status:_.status,statusText:_.statusText,headers:{"Content-Type":"application/wasm"}}),{instance:o,module:E}=await j(R,t);return F(o,E)}var C=N;var V=C().then(()=>I);export{V as default};
